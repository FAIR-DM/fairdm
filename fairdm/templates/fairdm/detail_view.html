{% extends "fairdm/base.html" %}
{% load static flex_menu %}

{% block extra_css %}
  {{ block.super }}
  {{ plugin_media.css }}
{% endblock extra_css %}

{% block extra_js %}
  {{ block.super }}
  {{ plugin_media.js }}
{% endblock extra_js %}

{% block content %}
  <div class="fairdm-detail d-flex flex-fil overflow-hidden">
    <!-- Sidebar -->
    <c-detail.sidebar>
      <!-- Explore Section -->
      {% render_menu menus.explore uuid=base_object.uuid instance=object renderer="sidebar" %}
      <!-- Actions Section -->
      {% render_menu menus.actions uuid=base_object.uuid instance=object renderer="sidebar" %}
    </c-detail.sidebar>
    <!-- Content Wrapper -->
    <div class="detail-content-wrapper flex-fill overflow-auto">
      <!-- Mobile Toolbar -->
      <div class="d-md-none bg-light border-bottom mobile-toolbar"
           id="mobileToolbar">
        <div class="px-3 py-2">
          <div class="d-flex align-items-center gap-2">
            <!-- Explore Dropdown -->
            <c-mobile.dropdown-menu title="Explore" icon="list">
              <c-mobile.dropdown-item icon="house" href="#">
                Overview
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="collection" href="#">
                Datasets
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="droplet" href="#">
                Samples
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="graph-up" href="#">
                Measurements
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="file-earmark-text" href="#">
                Publications
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="people" href="#">
                Contributors
              </c-mobile.dropdown-item>
            </c-mobile.dropdown-menu>
            <!-- Actions Dropdown -->
            <c-mobile.dropdown-menu title="Actions" icon="tools">
              <c-mobile.dropdown-item icon="plus-circle" href="#">
                Add Dataset
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="upload" href="#">
                Import Data
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="download" href="#">
                Export Data
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="gear" href="#">
                Settings
              </c-mobile.dropdown-item>
            </c-mobile.dropdown-menu>
            <!-- Edit Button -->
            <button class="btn btn-outline-primary btn-sm">
              <c-icon name="pencil" class="me-1" />
              Edit
            </button>
            <!-- Share Button -->
            <button class="btn btn-primary btn-sm">
              <c-icon name="share" class="me-1" />
              Share
            </button>
          </div>
        </div>
      </div>
      <!-- Main Content -->
      <main>
        {% block plugin_basic %}
          <div class="container-fluid px-lg-4">
            <!-- Breadcrumbs -->
            {% if breadcrumbs %}
              <c-breadcrumbs class="my-3">
                {% for breadcrumb in breadcrumbs %}<c-breadcrumbs.item :attrs="breadcrumb" />{% endfor %}
              </c-breadcrumbs>
            {% endif %}
            <!-- Page Header -->
            {% block plugin_header %}
              <c-detail.header :title="title|default:object"
                               :subtitle="page_subtitle"
                               :show_info_button="show_page_info_button"
                               :info_modal_target="page_info_modal_target">
                <c-slot name="actions">
                  {% block detail_actions %}
                  {% endblock detail_actions %}

                </c-slot>
              </c-detail.header>
            {% endblock plugin_header %}

            <!-- Detail Content -->
            {% block plugin %}
            {% endblock plugin %}

          </div>
        {% endblock plugin_basic %}

      </main>
    </div>
  </div>
{% endblock content %}
