{% extends "fairdm/base.html" %}
{% load static %}

{% block content %}
  <div class="list-view container-xxl">
    <div class="row mt-4">
      <!-- Desktop Sidebar -->
      <div class="col-lg-3 d-none d-lg-block border-end">
        <c-list-view.filter-sidebar>
          {% include "partials/filters.html" %}
        </c-list-view.filter-sidebar>
      </div>
      <!-- Mobile Offcanvas Filter -->
      <c-list-view.mobile-filters>
        {% include "partials/filters.html" with mobile=True %}
      </c-list-view.mobile-filters>
      <!-- Main Content Area -->
      <div class="col-lg-9">
        <!-- Page Header -->
        <c-list-view.page-header :title="page.title|default:page_title"
                                 results_text="Showing {{ object_list.count }} results"
                                 :search_value="request.GET.q" />
        <!-- Card List -->
        <div class="row g-4">
          {% for object in object_list %}
            <div class="col-12">{% include card_template %}</div>
          {% empty %}
            <c-list-view.empty-state />
          {% endfor %}
        </div>
        <!-- Pagination -->
        <c-list-view.pagination :is_paginated="is_paginated"
                                :page_obj="page_obj"
                                :request="request" />
        <!-- Results Summary -->
        <c-list-view.results-summary :is_paginated="is_paginated"
                                     :page_obj="page_obj"
                                     :object_list="object_list" />
      </div>
    </div>
  </div>
  <!-- Page Information Modal -->
  {% include "partials/page_info_modal.html" %}
{% endblock content %}
