{% extends "fairdm/base.html" %}
{% load static flex_menu %}

{% block extra_css %}
  {{ block.super }}
  {{ plugin_media.css }}
{% endblock extra_css %}

{% block extra_js %}
  {{ block.super }}
  {{ plugin_media.js }}
{% endblock extra_js %}

{% block body_class %}
  application-layout
{% endblock body_class %}

{% block content %}
  <!-- Colored Top Border for Object Type -->
  <div class="border-top border-3 border-{{ base_model_name }}"
       style="height: 3px"></div>
  <div class="fairdm-detail">
    <!-- Sidebar -->
    <c-detail.sidebar>
      <!-- Explore Section -->
      {% render_menu menus.explore uuid=base_object.uuid instance=object renderer="sidebar" %}
      <!-- Actions Section -->
      {% render_menu menus.actions uuid=base_object.uuid instance=object renderer="sidebar" %}
    </c-detail.sidebar>
    <!-- Content Wrapper -->
    <div class="detail-content-wrapper flex-fill overflow-auto">
      <!-- Mobile Toolbar -->
      <div class="d-md-none bg-light border-bottom mobile-toolbar"
           id="mobileToolbar">
        <div class="px-3 py-2">
          <div class="d-flex align-items-center gap-2">
            <!-- Explore Dropdown -->
            <c-mobile.dropdown-menu title="Explore" icon="menu">
              <c-mobile.dropdown-item icon="home" href="#">
                Overview
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="dataset" href="#">
                Datasets
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="sample" href="#">
                Samples
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="analytics" href="#">
                Measurements
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="file_text" href="#">
                Publications
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="people" href="#">
                Contributors
              </c-mobile.dropdown-item>
            </c-mobile.dropdown-menu>
            <!-- Actions Dropdown -->
            <c-mobile.dropdown-menu title="Actions" icon="administration">
              <c-mobile.dropdown-item icon="add" href="#">
                Add Dataset
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="upload" href="#">
                Import Data
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="download" href="#">
                Export Data
              </c-mobile.dropdown-item>
              <c-mobile.dropdown-item icon="settings" href="#">
                Settings
              </c-mobile.dropdown-item>
            </c-mobile.dropdown-menu>
            <!-- Edit Button -->
            <button class="btn btn-outline-primary btn-sm">
              <c-icon name="edit" class="me-1" />
              Edit
            </button>
            <!-- Share Button -->
            <button class="btn btn-primary btn-sm">
              <c-icon name="share" class="me-1" />
              Share
            </button>
          </div>
        </div>
      </div>
      <!-- Main Content -->
      <main>
        {% block plugin_basic %}
          <div class="container-fluid px-lg-4">
            <!-- Breadcrumbs -->
            {% if breadcrumbs %}
              <c-breadcrumbs class="my-3">
                {% for breadcrumb in breadcrumbs %}<c-breadcrumbs.item :attrs="breadcrumb" />{% endfor %}
              </c-breadcrumbs>
            {% endif %}
            <!-- Page Header -->
            {% block plugin_header %}
              <c-page_header :title="title|default:object"
                             :subtitle="page_subtitle"
                             :description="show_page_info_button"
                             info_modal_target="{{ page_info_modal_target|default:'#pageInfoModal' }}">
                <c-slot name="actions">
                  {% block detail_actions %}
                  {% endblock detail_actions %}

                </c-slot>
              </c-page_header>
            {% endblock plugin_header %}

            <!-- Detail Content -->
            {% block plugin %}
              {% trans "If you're seeing this, you haven't created a template for your plugin yet!" %}
            {% endblock plugin %}

          </div>
        {% endblock plugin_basic %}

      </main>
    </div>
  </div>
{% endblock content %}
