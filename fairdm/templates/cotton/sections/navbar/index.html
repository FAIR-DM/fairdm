{% load flex_menu %}

<style>
  @media (max-width: 959.98px) {
    .position-sm-absolute {
      position: absolute !important;
    }
  }

  .dropdown-hover-all .dropdown-menu,
  .dropdown-hover>.dropdown-menu.dropend {
    margin-left: -1px !important
  }
</style>
<c-vars id="pst-header" />
<header id="{{ id }}"
        class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
  <div class="bd-header__inner bd-page-width">
    <button class="pst-navbar-icon position-absolute sidebar-toggle primary-toggle"
            data-bs-toggle="offcanvas"
            data-bs-target="#headerMobile"
            aria-label="{% trans "Site navigation" %}">
      <span class="fa-solid fa-bars"></span>
    </button>
    <c-pst.components.navbar.start class="mx-auto">
      <c-sections.navbar.logo />
    </c-pst.components.navbar.start>
    <div class="navbar-header-items">
      {% process_menu "SiteNavigation" as menu %}
      <c-sections.navbar.centre :menu="menu" />
      <c-sections.navbar.end />
    </div>
    <div class="position-sm-absolute end-0 me-3 me-lg-0 ms-3">
      {% if user.is_authenticated %}
        <c-dac.widgets.auth-user-dropdown link_class="fs-2 pst-navbar-icon" />
      {% else %}
        <c-dac.widgets.login-button class="nav-link pst-navbar-icon" />
      {% endif %}
    </div>
  </div>
</header>
<c-sections.navbar.mobile :menu="menu" />
