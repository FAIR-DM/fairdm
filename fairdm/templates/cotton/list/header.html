<c-vars search_placeholder="Search objects..."
        filter_offcanvas_target="#filterOffcanvas" />
<c-page-header :title="title"
               :subtitle="subtitle"
               :description="description"
               info_modal_target="{{ info_modal_target|default:'#pageInfoModal' }}">
  <c-slot name="actions">
    {% if filter %}
      <!-- Search Bar -->
      <div class="input-group" style="min-width: 300px;">
        <span class="input-group-text border-end-0">
          <c-icon name="search" class="text-muted" />
        </span>
        <input type="text"
               class="form-control border-start-0 search-field desktop-search"
               placeholder="{{ search_placeholder }}"
               value="{{ filter.form.search.value|default:'' }}" />
      </div>
      <!-- Sort -->
      {% if filter.form.o %}
        <div class="input-group" style="min-width: 180px;">
          <span class="input-group-text border-end-0">
            <c-icon name="sort" class="text-muted" />
          </span>
          <select class="form-select ordering-field desktop-ordering border-start-0"
                  form="">
            {% for value, label in filter.form.o.field.choices %}
              {% if value %}
                <option value="{{ value }}"
                        {% if filter.form.o.value == value %}selected{% endif %}>{{ label }}</option>
              {% endif %}
            {% endfor %}
          </select>
        </div>
      {% endif %}
      <!-- Filter Toggle Button -->
      <button class="btn text-nowrap"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="{{ filter_offcanvas_target }}"
              aria-controls="filterOffcanvas">
        <c-icon name="filter_active" class="me-1" />
      </button>
    {% endif %}
  </c-slot>
  <c-slot name="actions_mobile">
    {% if filter %}
      <button class="btn btn-outline-secondary btn-sm"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="{{ filter_offcanvas_target }}"
              aria-controls="filterOffcanvas">
        <c-icon name="filter_active" class="me-1" />
        Filters
      </button>
    {% endif %}
  </c-slot>
  <c-slot name="actions_row">
    <!-- Search Bar (expands to fill available space) -->
    <div class="flex-grow-1">
      <div class="input-group">
        <span class="input-group-text border-end-0">
          <c-icon name="search" class="text-muted" />
        </span>
        <input type="text"
               class="form-control border-start-0 search-field mobile-search"
               placeholder="{{ search_placeholder }}"
               value="{{ filter.form.search.value|default:'' }}" />
      </div>
    </div>
    <!-- Sort (minimal width) -->
    <div class="flex-shrink-0">
      {% if filter.form.o %}
        <div class="input-group" style="min-width: 140px;">
          <span class="input-group-text border-end-0">
            <c-icon name="sort" class="text-muted" />
          </span>
          <select class="form-select ordering-field mobile-ordering border-start-0"
                  form="">
            {% for value, label in filter.form.o.field.choices %}
              {% if value %}
                <option value="{{ value }}"
                        {% if filter.form.o.value == value %}selected{% endif %}>{{ label }}</option>
              {% endif %}
            {% endfor %}
          </select>
        </div>
      {% else %}
        <div class="input-group" style="min-width: 140px;">
          <span class="input-group-text border-end-0">
            <c-icon name="sort" class="text-muted" />
          </span>
          <select class="form-select ordering-field mobile-ordering border-start-0"
                  form="">
            <option selected>Order by</option>
          </select>
        </div>
      {% endif %}
    </div>
  </c-slot>
</c-page-header>
