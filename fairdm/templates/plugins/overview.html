{% extends "fairdm/detail_view.html" %}
{% block plugin %}
  <div class="row g-4">
    {# Main content area #}
    <div class="col-lg-8">
      {% block overview_main %}
        {% block statistics %}
          {# Statistics #}
          <c-detail.card title="{% trans 'Statistics' %}" icon="graph-up">
            <div class="row g-3">
              {% block statistics_content %}
              {% endblock statistics_content %}

            </div>
          </c-detail.card>
        {% endblock statistics %}

        {% block descriptions %}
          <c-detail.card title="{% trans 'About' %}" icon="file-text">
            {% for description in object.descriptions.in_order %}
              <div class="mb-3">
                <h6 class="text-muted small text-uppercase mb-2">{{ description.type }}</h6>
                <p class="card-text">{{ description.value }}</p>
              </div>
            {% empty %}
              {% trans "There's nothing here yet." %}
            {% endfor %}
          </c-detail.card>
        {% endblock descriptions %}

        {% block contributors %}
          {% if object.contributors.exists %}
            <c-detail.card title="{% trans 'Contributors' %}" icon="people">
              <c-list-group flush>
                {% for contribution in object.contributors.all %}
                  <c-list-group.item>
                    <div class="d-flex w-100 justify-content-between align-items-center">
                      <div>
                        <h6 class="mb-1">{{ contribution.contributor }}</h6>
                        {% if contribution.roles.exists %}
                          <small class="text-muted">
                            {% for role in contribution.roles.all %}<c-badge variant="secondary" class="me-1" :text="role" />{% endfor %}
                          </small>
                        {% endif %}
                      </div>
                    </div>
                  </c-list-group.item>
                {% endfor %}
              </c-list-group>
            </c-detail.card>
          {% endif %}
        {% endblock contributors %}
      {% endblock overview_main %}

    </div>
    {# Sidebar #}
    <div class="col-lg-4">
      {% block overview_sidebar %}
        {% block quick_info %}
          {# Quick Info #}
          <c-detail.card title="{% trans 'Quick Info' %}"
                         icon="info-circle">
            <dl class="mb-0">
              {% block quick_info_items %}
              {% endblock quick_info_items %}

            </dl>
          </c-detail.card>
        {% endblock quick_info %}

        {% block keywords %}
          {% if object.keywords.exists %}
            <c-detail.card title="{% trans 'Keywords' %}" icon="tags">
              <div class="d-flex flex-wrap gap-2">
                {% for keyword in object.keywords.all %}
                  <c-badge variant="light"
                           class="text-dark border"
                           :text="keyword" />
                {% endfor %}
              </div>
            </c-detail.card>
          {% endif %}
        {% endblock keywords %}

        {% block key_dates %}
          {% if object.dates.exists %}
            <c-detail.card title="{% trans 'Key Dates' %}" icon="calendar">
              <dl class="mb-0">
                {% for date in object.dates.all %}
                  <c-detail.info_item label="{{ date.type }}">
                    {{ date.value }}
                  </c-detail.info_item>
                {% endfor %}
              </dl>
            </c-detail.card>
          {% endif %}
        {% endblock key_dates %}
      {% endblock overview_sidebar %}

    </div>
  </div>
{% endblock plugin %}
