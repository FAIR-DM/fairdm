{% load crispy_forms_tags widget_tweaks %}

<form id="filterForm"
      action="{{ request.path }}"
      method="get">
  <!-- Hidden search input that gets submitted -->
  {% if filter.form.search %}
    {% render_field filter.form.search type="hidden" id="search-hidden" %}
  {% endif %}
  <!-- Hidden ordering input that gets submitted -->
  {% if filter.form.o %}
    {% render_field filter.form.o hidden=True id="ordering-hidden" %}
  {% endif %}
  {% for field in filter.form %}
    {% if field.name != "o" and field.name != "search" %}{{ field|as_crispy_field }}{% endif %}
  {% endfor %}
  <div class="d-grid mt-3">
    <button type="submit" class="btn btn-primary btn-sm">
      <i class="bi bi-funnel me-1"></i>Apply Filters
    </button>
    <button type="button"
            class="btn btn-outline-secondary btn-sm mt-2"
            onclick="clearAllFilters()">
      <i class="bi bi-x-circle me-1"></i>Clear Filters
    </button>
  </div>
</form>
