{% extends "fairdm/base.html" %}
{% load static %}

{% block content %}
  <div class="main-layout">
    <!-- Compact Toolbar -->
    <div class="toolbar  border-bottom toolbar-shadow">
      <div class="container-fluid px-3 py-2">
        <div class="d-flex align-items-center justify-content-between">
          <!-- Left side - Title -->
          <div class="d-flex align-items-center">
            <h5 class="mb-0 text-nowrap">
              {% block table_title %}
                Data Records
              {% endblock table_title %}

            </h5>
          </div>
          <!-- Desktop: Search and Actions -->
          <div class="desktop-search-actions d-flex align-items-center gap-3 flex-nowrap">
            <div class="input-group"
                 style="max-width: 300px;
                        min-width: 250px">
              <span class="input-group-text">
                <c-icon name="search" />
              </span>
              <input type="text"
                     class="form-control"
                     placeholder="Search records..." />
            </div>
            <div class="d-flex gap-2 flex-nowrap">
              {% block toolbar_actions %}
                <button class="btn btn-primary btn-sm btn-action text-nowrap">
                  <c-icon name="add" class="me-1" />
                  Add New
                </button>
                <button class="btn btn-outline-secondary btn-sm btn-action text-nowrap">
                  <c-icon name="download" class="me-1" />
                  Export
                </button>
                <button class="btn btn-outline-secondary btn-sm btn-action text-nowrap">
                  <c-icon name="filter" class="me-1" />
                  Filter
                </button>
              {% endblock toolbar_actions %}

            </div>
          </div>
          <!-- Mobile: Search Icon and Actions Dropdown -->
          <div class="mobile-controls d-none gap-2">
            <!-- Search Toggle -->
            <button class="btn btn-outline-secondary btn-sm"
                    type="button"
                    onclick="toggleSearchDrawer()">
              <c-icon name="search" />
            </button>
            <!-- Actions Dropdown -->
            <div class="dropdown">
              <button class="btn btn-outline-secondary btn-sm dropdown-toggle"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false">
                <c-icon name="menu_vertical" />
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                {% block mobile_actions %}
                  <li>
                    <a class="dropdown-item" href="#">
                      <c-icon name="add" class="me-2" />
                      Add New
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#">
                      <c-icon name="download" class="me-2" />
                      Export
                    </a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="#">
                      <c-icon name="filter" class="me-2" />
                      Filter
                    </a>
                  </li>
                {% endblock mobile_actions %}

              </ul>
            </div>
          </div>
        </div>
        <!-- Mobile Search Drawer -->
        <div id="searchDrawer" class="search-drawer">
          <div class="d-flex gap-2">
            <div class="input-group flex-grow-1">
              <span class="input-group-text">
                <c-icon name="search" />
              </span>
              <input type="text"
                     class="form-control"
                     placeholder="Search records..." />
            </div>
            <button class="btn btn-outline-secondary"
                    type="button"
                    onclick="toggleSearchDrawer()">
              <c-icon name="close" />
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Main Content -->
    <div class="table-container ">
      <div class="table-responsive">
        {% block table_content %}
          <table class="table table-striped table-hover align-middle mb-0">
            <thead>
              <tr>
                <th scope="col" class="text-nowrap">
                  <input class="form-check-input"
                         type="checkbox"
                         id="selectAll" />
                </th>
                <th scope="col" class="text-nowrap">
                  ID
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Name
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Project
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Dataset
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Type
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Status
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Created Date
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">
                  Last Modified
                  <c-icon name="chevron_expand" class="ms-1 text-muted" />
                </th>
                <th scope="col" class="text-nowrap">Actions</th>
              </tr>
            </thead>
            <tbody>
              {% block table_rows %}
                <!-- Sample Data Rows -->
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">WS-001</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="sample" class="text-primary" />
                      </div>
                      <div>
                        <div class="fw-medium">Water Sample Alpha</div>
                        <small class="text-muted">Lake Michigan Collection</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="Hydrology Study" />
                  </td>
                  <td>Lake Water Quality</td>
                  <td>
                    <c-badge variant="info"
                             class="bg-opacity-10 border border-info"
                             text="Sample" />
                  </td>
                  <td>
                    <c-badge variant="success" text="Active" />
                  </td>
                  <td class="text-muted">2024-01-15</td>
                  <td class="text-muted">2024-01-20</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">MS-002</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-success bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="analytics" class="text-success" />
                      </div>
                      <div>
                        <div class="fw-medium">Temperature Measurement</div>
                        <small class="text-muted">Site A - Sensor 01</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="Climate Monitoring" />
                  </td>
                  <td>Environmental Sensors</td>
                  <td>
                    <c-badge variant="warning"
                             class="bg-opacity-10 border border-warning"
                             text="Measurement" />
                  </td>
                  <td>
                    <c-badge variant="success" text="Active" />
                  </td>
                  <td class="text-muted">2024-01-14</td>
                  <td class="text-muted">2024-01-21</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">SS-003</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-warning bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="location" class="text-warning" />
                      </div>
                      <div>
                        <div class="fw-medium">Soil Sample Beta</div>
                        <small class="text-muted">Agricultural Site B</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="Agricultural Research" />
                  </td>
                  <td>Soil Composition Study</td>
                  <td>
                    <c-badge variant="info"
                             class="bg-opacity-10 border border-info"
                             text="Sample" />
                  </td>
                  <td>
                    <c-badge variant="warning" text="Processing" />
                  </td>
                  <td class="text-muted">2024-01-13</td>
                  <td class="text-muted">2024-01-19</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">AS-004</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-danger bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="wind" class="text-danger" />
                      </div>
                      <div>
                        <div class="fw-medium">Air Quality Sample</div>
                        <small class="text-muted">Urban Station 5</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="Air Quality Monitor" />
                  </td>
                  <td>Urban Air Quality</td>
                  <td>
                    <c-badge variant="info"
                             class="bg-opacity-10 border border-info"
                             text="Sample" />
                  </td>
                  <td>
                    <c-badge variant="danger" text="Inactive" />
                  </td>
                  <td class="text-muted">2024-01-12</td>
                  <td class="text-muted">2024-01-18</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">BM-005</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-secondary bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="activity" class="text-secondary" />
                      </div>
                      <div>
                        <div class="fw-medium">Biodiversity Measurement</div>
                        <small class="text-muted">Forest Reserve C</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="Biodiversity Study" />
                  </td>
                  <td>Forest Ecosystem</td>
                  <td>
                    <c-badge variant="warning"
                             class="bg-opacity-10 border border-warning"
                             text="Measurement" />
                  </td>
                  <td>
                    <c-badge variant="success" text="Active" />
                  </td>
                  <td class="text-muted">2024-01-11</td>
                  <td class="text-muted">2024-01-22</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                <!-- Additional rows for scrolling demonstration -->
                <tr>
                  <td>
                    <input class="form-check-input" type="checkbox" />
                  </td>
                  <td class="fw-medium">WS-006</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-2"
                           style="width: 32px;
                                  height: 32px">
                        <c-icon name="sample" class="text-primary" />
                      </div>
                      <div>
                        <div class="fw-medium">River Water Sample</div>
                        <small class="text-muted">Mississippi River Point 3</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <c-badge variant="light"
                             class="text-dark border"
                             text="River Quality Study" />
                  </td>
                  <td>River Water Analysis</td>
                  <td>
                    <c-badge variant="info"
                             class="bg-opacity-10 border border-info"
                             text="Sample" />
                  </td>
                  <td>
                    <c-badge variant="success" text="Active" />
                  </td>
                  <td class="text-muted">2024-01-10</td>
                  <td class="text-muted">2024-01-17</td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                              type="button"
                              data-bs-toggle="dropdown">
                        <c-icon name="menu_horizontal" />
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="view" class="me-2" />
                          View</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="edit" class="me-2" />
                          Edit</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <c-icon name="download" class="me-2" />
                          Export</a>
                        </li>
                        <li>
                          <hr class="dropdown-divider" />
                        </li>
                        <li>
                          <a class="dropdown-item text-danger" href="#">
                            <c-icon name="delete" class="me-2" />
                          Delete</a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
              {% endblock table_rows %}

            </tbody>
          </table>
        {% endblock table_content %}

      </div>
    </div>
    <!-- Bottom Info Bar -->
    <div class="bottom-info-bar">
      <div class="container-fluid px-3">
        <div class="d-flex align-items-center justify-content-between">
          <!-- Record count - shows first on mobile -->
          <div class="text-muted mobile-record-count">
            <small>
              {% block record_count %}
                Showing 1 to 6 of 127 entries
              {% endblock record_count %}

            </small>
          </div>
          <!-- Pagination - centered on mobile -->
          <nav>
            {% block pagination %}
              <ul class="pagination pagination-sm mb-0">
                <li class="page-item disabled">
                  <a class="page-link"
                     href="#"
                     tabindex="-1"
                     aria-disabled="true">
                    <c-icon name="chevron_left" />
                  </a>
                </li>
                <li class="page-item active">
                  <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">
                    <c-icon name="chevron_right" />
                  </a>
                </li>
              </ul>
            {% endblock pagination %}

          </nav>
          <!-- Updated info - hidden on mobile -->
          <div class="text-muted mobile-hide">
            <small>
              {% block update_info %}
                Updated 2 min ago
              {% endblock update_info %}

            </small>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
