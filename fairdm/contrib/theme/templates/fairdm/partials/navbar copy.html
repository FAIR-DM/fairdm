<!-- Modern Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light bg-body border-bottom shadow-sm sticky-top">
  <div class="container-fluid px-3">
    <c-navbar.mobile-toggle />
    <c-navbar.brand />
    <!-- Desktop Navigation Menu (Hidden on mobile) -->
    <div class="navbar-nav me-auto d-none d-lg-flex">
      <!-- Projects Dropdown -->
      <c-navbar.dropdown title="Projects"
                         :items="[ {'icon': 'folder', 'text': 'All Projects', 'url': '#'}, {'icon': 'plus-circle', 'text': 'Create Project', 'url': '#'}, {'divider': True}, {'icon': 'archive', 'text': 'Archived Projects', 'url': '#'} ]" />
      <!-- Datasets Dropdown -->
      <c-navbar.dropdown title="Datasets"
                         :items="[ {'icon': 'dataset', 'text': 'Browse Datasets', 'url': '#'}, {'icon': 'upload', 'text': 'Upload Dataset', 'url': '#'}, {'divider': True}, {'header': True, 'text': 'Recent Datasets'}, {'icon': 'file-earmark-data', 'text': 'Climate Data 2024', 'url': '#'}, {'icon': 'file-earmark-data', 'text': 'Soil Samples', 'url': '#'} ]" />
      <!-- Samples Link -->
      <a class="nav-link" href="#">Samples</a>
      <!-- Measurements Link -->
      <a class="nav-link" href="#">Measurements</a>
      <!-- Tools Dropdown -->
      <c-navbar.dropdown title="Tools"
                         :items="[ {'icon': 'download', 'text': 'Data Export', 'url': '#'}, {'icon': 'graph-up', 'text': 'Analytics', 'url': '#'}, {'icon': 'shield-check', 'text': 'Validation', 'url': '#'}, {'divider': True}, {'icon': 'settings', 'text': 'Settings', 'url': '#'} ]" />
    </div>
    <!-- Desktop Search Form (Hidden on mobile) -->
    <c-navbar.search />
    <!-- Desktop Action Group (Hidden on mobile) -->
    <div class="d-none d-lg-flex align-items-center gap-3">
      <c-navbar.action-link icon="github"
                            url="https://github.com/FAIR-DM/fairdm"
                            target="_blank"
                            title="View on GitHub" />
      <c-navbar.action-link icon="documentation" title="Documentation" />
      <!-- Theme Toggle -->
      <c-navbar.action-link icon="theme_light"
                            :is_button="True"
                            button_id="themeToggle"
                            title="Toggle theme"
                            extra_classes="theme-toggle-icon" />
      <!-- Login/Profile -->
      <div class="ms-2">
        <!-- For unauthenticated users -->
        <button class="btn btn-primary btn-sm d-none"
                id="loginBtn">
          <c-icon name="person" class="me-1" />
          Login
        </button>
        <!-- For authenticated users -->
        <c-navbar.profile-dropdown :menu_items="[ {'icon': 'person', 'text': 'Profile', 'url': '#'}, {'icon': 'settings', 'text': 'Settings', 'url': '#'}, {'divider': True}, {'icon': 'logout', 'text': 'Logout', 'url': '#'} ]" />
      </div>
    </div>
    <!-- Mobile Profile (Far Right on Mobile) -->
    <c-navbar.profile-dropdown extra_classes="d-lg-none"
                               :menu_items="[ {'icon': 'person', 'text': 'Profile', 'url': '#'}, {'icon': 'settings', 'text': 'Settings', 'url': '#'}, {'divider': True}, {'icon': 'logout', 'text': 'Logout', 'url': '#'} ]" />
  </div>
</nav>
<!-- Mobile Offcanvas Navigation -->
<div class="offcanvas offcanvas-start"
     tabindex="-1"
     id="mobileNavbar"
     aria-labelledby="mobileNavbarLabel">
  <div class="offcanvas-body custom-scrollbar">
    <!-- Header Section (now inside body for scrolling) -->
    <c-navbar.mobile-header />
    <div class="px-3">
      <!-- Mobile Action Group -->
      <div class="d-flex flex-wrap gap-3 justify-content-center mb-2">
        <c-navbar.action-link icon="github"
                              text="GitHub"
                              url="https://github.com/FAIR-DM/fairdm"
                              target="_blank"
                              :show_text="True" />
        <c-navbar.action-link icon="documentation"
                              text="Docs"
                              :show_text="True" />
        <c-navbar.action-link icon="theme_light"
                              text="Theme"
                              :is_button="True"
                              button_id="mobileThemeToggle"
                              :show_text="True"
                              extra_classes="mobile-theme-toggle" />
      </div>
      <!-- Mobile Search -->
      <c-navbar.search classes="mb-4" placeholder="Search..." />
      <!-- Mobile Navigation Menu -->
      <div class="nav flex-column">
        <!-- Projects -->
        <c-navbar.mobile-nav-item title="Projects"
                                  icon="project"
                                  collapse_id="projectsCollapse"
                                  :has_children="True"
                                  :children="[ {'text': 'All Projects', 'url': '#'}, {'text': 'Create Project', 'url': '#'}, {'text': 'Archived Projects', 'url': '#'} ]" />
        <!-- Datasets -->
        <c-navbar.mobile-nav-item title="Datasets"
                                  icon="dataset"
                                  collapse_id="datasetsCollapse"
                                  :has_children="True"
                                  :children="[ {'text': 'Browse Datasets', 'url': '#'}, {'text': 'Upload Dataset', 'url': '#'}, {'header': True, 'text': 'Recent Datasets'}, {'text': 'Climate Data 2024', 'url': '#', 'small': True}, {'text': 'Soil Samples', 'url': '#', 'small': True} ]" />
        <!-- Samples -->
        <c-navbar.mobile-nav-item title="Samples" icon="clipboard-data" />
        <!-- Measurements -->
        <c-navbar.mobile-nav-item title="Measurements" icon="speedometer2" />
        <!-- Tools -->
        <c-navbar.mobile-nav-item title="Tools"
                                  icon="tools"
                                  collapse_id="toolsCollapse"
                                  :has_children="True"
                                  :children="[ {'text': 'Data Export', 'url': '#'}, {'text': 'Analytics', 'url': '#'}, {'text': 'Validation', 'url': '#'}, {'text': 'Settings', 'url': '#'} ]" />
      </div>
    </div>
  </div>
</div>
