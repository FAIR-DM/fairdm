{% extends "plugins/overview.html" %}
{% load i18n cotton fairdm %}

{% block detail_actions %}
  <a href="{% plugin_url 'edit' %}"
     class="btn btn-outline-primary btn-sm">
    <c-icon name="edit" class="me-1" />
    {% trans "Edit" %}
  </a>
{% endblock detail_actions %}

{% block info_boxes %}
  <c-widgets.type-a label="{% trans 'Datasets' %}"
                    class="mb-0"
                    value="{{ dataset_count|default:"0" }}"
                    icon="dataset"
                    variant="success"
                    link="{% plugin_url "datasets" %}" />
  <div class="vr mx-3"></div>
  <c-widgets.type-a label="{% trans 'Samples' %}"
                    class="mb-0"
                    value="{{ project.samples.count|default:"0" }}"
                    icon="sample"
                    variant="warning" />
  <div class="vr mx-3"></div>
  <c-widgets.type-a label="{% trans 'Measurements' %}"
                    class="mb-0"
                    value="{{ project.measurements.count|default:"0" }}"
                    icon="measurement"
                    variant="danger" />
{% endblock info_boxes %}

{% block page_content %}
  {{ block.super }}
  {% if project.funding %}
    <c-card title="{% trans 'Funding' %}" icon="funding">
      <p class="card-text">{{ project.funding }}</p>
    </c-card>
  {% endif %}
{% endblock page_content %}

{% block quick_info_items %}
  {% comment %} <c-detail.info-item label="{% trans 'Status' %}" value="{{ project.get_status_display }}" badge="{{ project.get_status_display|lower }}" /> {% endcomment %}
  <dt class="text-muted small text-uppercase mb-1">{% trans "Visibility" %}</dt>
  <dd class="mb-3">
    <c-badge variant="secondary">
      <c-icon name="{{ project.visibility|yesno:'visible,private' }}"
              class="me-1" />
      {{ project.get_visibility_display }}
    </c-badge>
  </dd>
  {% comment %} {% if project.owner %}
    <c-detail.info-item label="{% trans 'Owner' %}" value="{{ project.owner }}" />
  {% endif %}
  <c-detail.info-item label="{% trans 'Created' %}" value="{{ project.created|date:'N j, Y' }}" />
  <dt class="text-muted small text-uppercase mb-1">{% trans "Last Modified" %}</dt> {% endcomment %}
  <dd class="mb-0">
    {{ project.modified|date:"N j, Y" }}
  </dd>
{% endblock quick_info_items %}
